<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Hi! I'm Troy, a high school developer and nerd. This is my personal portfolio site, please look around!"/>
  <title>Troy E. Kinney</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" type="image/svg+xml" href="media/TK.svg">
  <script src="https://kit.fontawesome.com/6ba8d5bf94.js" crossorigin="anonymous"></script>
</head>

<body>
  <div class="wrapper">
    <div id="text" style="width:100%;">
      <h1 id="title" style="text-align:center;"></h1>
      <p id="desc" style="text-align:center;"></p>
    </div>
<!--<div id="asciiContainer">
      <iframe class="ascii-art" src=troy.txt>
    </div>-->
    <div id="socials" style="display: flex;">
      <button id="email" class="social-button" style="display: none;" onclick="window.location.href = 'mailto:troy@ekinney.com';">
        <span id="email-icon" class="icon"><i class="fa-solid fa-envelope"></i></span>
      </button>
      <button id="linkedIn" class="social-button" style="display: none;" onclick="window.location.href = 'https://www.linkedin.com/in/troy-e-kinney';">
        <span id="linkedIn-icon" class="icon"><i class="fa-brands fa-square-linkedin"></i></span>
      </button>
      <button id="github" class="social-button" style="display: none;" onclick="window.location.href = 'https://www.github.com/treki722';">
        <span id="github-icon" class="icon"><i class="fa-brands fa-github"></i></span>
      </button>
    </div>
    <div id="options" style="display: none; margin-top:15px; margin:30px;">
      <button onclick="window.location.href = 'https://www.troyekinney.com/work.html';">Work</button>
      <button onclick="window.location.href = 'https://www.troyekinney.com/involvements.html';">Involvements</button>
      <button onclick="contentDeterminer('philosophy')">Philosophy</button>
      <button onclick="window.location.href = 'https://www.troyekinney.com/resume.html';">Resume</button>
      <!-- <button onclick="contentDeterminer('references')">References</button> -->
      <script src="https://kit.fontawesome.com/6ba8d5bf94.js" crossorigin="anonymous"></script>
    </div>
    <div id="contentContainer" style="display: flex; justify-content: center;">
      <p id="content" style="text-align:center; display:none; width:66%"></p>
    </div>
  </div>

  
  <script>
    const referrer = document.referrer;
    const currentHost = window.location.host;
    const internalRef = referrer && new URL(referrer).host === currentHost;
  
    const titleText = "Hi! I'm Troy Kinney.";
    const description = "I'm a high school developer and tech nerd. Feel free to look around.";

    const philosophyText = `
    I used to rely on last-minute adrenaline to get things done. It worked—until it didn't. I eventually realized that procrastination kills potential. Ideas don't fail because they're bad. They fail because they're late, rushed, or never finished at all. So I made the choice to work differently: to stay ahead, take control of my time, and execute with purpose.

    I care about mastery. If I'm going to build something, I want it done right. Precision matters. Details matter. Cutting corners is just another form of procrastination—one that shows up later as bugs, delays, and chaos. When things break, I don't panic or point fingers. I diagnose, debug, and fix. If it's a missed line of code, I correct it. If the system is flawed, I rebuild it. And when I hit a wall, I don't stop—I rubber-duck, rethink, and only then reach out for help. Growth comes from staying curious, not complacent.

    I believe discipline is a form of respect: respect for the work, for the people counting on me, and for the standards I hold myself to. I stay ahead of deadlines because momentum is easier to protect than to rebuild. Being reliable isn't about being perfect—it's about being prepared.

    My promise is simple: I will deliver on time with extreme precision. I don't chase busywork or half-finished ideas. I build systems that last, projects that work, and results that speak for themselves. I'm not interested in "good enough." I'm here to execute, improve, and push for better every single time.

    This is the mindset I bring to my work: organized, intentional, and relentless about getting things done the right way.
    `;
    const referencesText = "This is a placeholder";
    

    
    const speed = 35;
  
    let titleIndex = 0;
    let descriptionIndex = 0;
    let contentIndex = 0;
  
    window.onload = () => {
      if (internalRef) {
        const titleEl = document.getElementById("title");
        const descEl = document.getElementById("desc");
        const emailEl = document.getElementById("email");
        const linkedEl = document.getElementById("linkedIn");
        const gitEl = document.getElementById("github");
        const optionsEl = document.getElementById("options");
    
        titleEl.textContent = titleText;
        descEl.textContent = description;
        
        titleEl.classList.add("fade-in");
        descEl.classList.add("fade-in");
        emailEl.style.display = "inline-block";        
        linkedEl.style.display = "inline-block";
        gitEl.style.display = "inline-block";
        optionsEl.style.display = "inline-block";
        optionsEl.classList.add("fade-in");
      } else {
        startTyping();
      }
    
      // const asciiContainer = document.getElementById('ascii-art');
      // fetch('https://raw.githubusercontent.com/TrEKi722/troyekinney.com/main/troy.txt')
      //   .then(response => {
      //     if (!response.ok) throw new Error('Network response was not ok');
      //     return response.text();
      //   })
      //   .then(data => {
      //     asciiContainer.textContent = data;
      //   })
      //   .catch(error => {
      //     asciiContainer.textContent = 'Failed to load ASCII art.';
      //     console.error('Fetch error:', error);
      //   });
    };
  
    function startTyping() {
      const container = document.getElementById("title");
      container.innerHTML = "_";
      typeTitle();
    }
  
    function typeTitle() {
      const container = document.getElementById("title");
      if (titleIndex < titleText.length) {
        container.innerHTML = container.innerHTML.slice(0, -1);
        container.innerHTML += (titleText[titleIndex] === "\n" ? "<br>" : titleText[titleIndex]) + "_";
        titleIndex++;
        setTimeout(typeTitle, speed);
      } else {
        container.innerHTML = container.innerHTML.slice(0, -1);
        typeDescription();
      }
    }
  
    function typeDescription() {
      const container = document.getElementById("desc");
      if (descriptionIndex < description.length) {
        container.innerHTML = container.innerHTML.slice(0, -1);
        container.innerHTML += (description[descriptionIndex] === "\n" ? "<br>" : description[descriptionIndex]) + "_";
        descriptionIndex++;
        setTimeout(typeDescription, speed);
      } else {
        document.getElementById("desc").innerHTML = document.getElementById("desc").innerHTML.slice(0, -1);
        setTimeout(() => {
          document.getElementById("email").style.display = "flex";
          setTimeout(() => {
            document.getElementById("linkedIn").style.display = "flex";
            setTimeout(() => {
              document.getElementById("github").style.display = "flex";
              setTimeout(() => {
                document.getElementById("options").style.display = "inline-block";
              }, 200);
            }, 200);
          }, 200);
        }, 200);
      }
    }

    function contentDeterminer(section) {
      contentIndex = 0;
      document.getElementById("content").innerHTML = "";
      document.getElementById("content").style.display = "block";
      if (section === "philosophy") {
        typeContent(philosophyText);
      } else if (section === "references") {
        typeContent(referencesText);
      }
    }

    function typeContent(content) {
      const container = document.getElementById("content");
      if (contentIndex < content.length) {
        container.innerHTML = container.innerHTML.slice(0, -1);
        container.innerHTML += (content[contentIndex] === "\n" ? "<br>" : content[contentIndex]) + "_";
        contentIndex++;
        setTimeout(typeContent, speed, content);
      } else {
        document.getElementById("content").innerHTML = document.getElementById("content").innerHTML.slice(0, -1);
      }
    }
  </script>
</body>
</html>
